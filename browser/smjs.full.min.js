!function(t,e){if("function"==typeof define&&define.amd)define(["exports"],function(e){t(e)});else if("undefined"!=typeof exports)t(exports);else{var r=e.SMJS;e.SMJS={noConflict:function(){return e.SMJS=r,this}},t(e.SMJS)}}(function(t){"use strict";function e(t){for(var e=T.length,r=t%e,n=Math.floor(t/e),_=T.charAt(r);n;)r=n%e,n=Math.floor(n/e),_=T.charAt(r)+_;return _}function r(t){var r=e(t);return r.length<2&&(r=T[0]+r),r}function n(t){for(var e=T.length,r=0,n=t.length,_=0;n>_;++_)r=r*e+T.indexOf(t.charAt(_));return r}function _(t){return encodeURIComponent(t.toString()).replace(/\'/g,"%27")}function i(t){return decodeURIComponent(t)}var s=t.COMMON={version:"0.0.1-alpha.2"},T="0123456789aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZ-_.!~*()";s.d2r=e,s.d2r2=r,s.r2d=n,s.esc=_,s.unesc=i,s.AST_TOKEN="token",s.AST_NODE="node",s.AST_BODY="body",s.AST_LITERAL="literal",s.AST_OPERATOR="operator",s.AST_LEFT="left",s.AST_RIGHT="right",s.AST_ARGUMENTS="arguments",s.AST_INIT="init",s.AST_TEST="test",s.AST_UPDATE="update",s.AST_CATCH="catch",s.AST_FINALLY="finally",s.AST_ALT="alt",s.AST_OBJDEF="objdef",s.AST_VARDEF="vardef",s.AST_NODES={},s.T_END="'",s.T_LITERAL_TABLE="0",s.T_LITERAL_1="1",s.T_LITERAL_2="2",s.T_LITERAL_3="3",s.T_LITERAL_4="4",s.T_ASSIGN="a",s.AST_NODES[s.T_ASSIGN]=[s.AST_OPERATOR,s.AST_LEFT,s.AST_RIGHT],s.T_ARRAY="A",s.AST_NODES[s.T_ARRAY]=[s.AST_BODY],s.T_BOP="b",s.AST_NODES[s.T_BOP]=[s.AST_OPERATOR,s.AST_LEFT,s.AST_RIGHT],s.T_BREAK="B",s.AST_NODES[s.T_BREAK]=[s.AST_LITERAL],s.T_CALL="c",s.AST_NODES[s.T_CALL]=[s.AST_NODE,s.AST_ARGUMENTS],s.T_CONTINUE="C",s.AST_NODES[s.T_CONTINUE]=[s.AST_LITERAL],s.T_EXPR="E",s.AST_NODES[s.T_EXPR]=[s.AST_NODE],s.T_FUNC="f",s.AST_NODES[s.T_FUNC]=[s.AST_LITERAL,s.AST_ARGUMENTS,s.AST_NODE],s.T_FOR="F",s.AST_NODES[s.T_FOR]=[s.AST_INIT,s.AST_TEST,s.AST_UPDATE,s.AST_NODE],s.T_FOR_IN="g",s.AST_NODES[s.T_FOR_IN]=[s.AST_LEFT,s.AST_RIGHT,s.AST_NODE],s.T_THROW="G",s.AST_NODES[s.T_THROW]=[s.AST_NODE],s.T_TRY="h",s.AST_NODES[s.T_TRY]=[s.AST_NODE,s.AST_CATCH,s.AST_FINALLY],s.T_CATCH="H",s.AST_NODES[s.T_CATCH]=[s.AST_LITERAL,s.AST_NODE],s.T_IF="I",s.AST_NODES[s.T_IF]=[s.AST_TEST,s.AST_NODE,s.AST_ALT],s.T_PREUPDATE="j",s.AST_NODES[s.T_PREUPDATE]=[s.AST_OPERATOR,s.AST_NODE],s.T_POSTUPDATE="J",s.AST_NODES[s.T_POSTUPDATE]=[s.AST_OPERATOR,s.AST_NODE],s.T_SWITCH="k",s.AST_NODES[s.T_SWITCH]=[s.AST_NODE,s.AST_BODY],s.T_SWITCH_CASE="K",s.AST_NODES[s.T_SWITCH_CASE]=[s.AST_TEST,s.AST_BODY],s.T_LITERAL="l",s.T_LITERAL_CODE="L",s.AST_NODES[s.T_LITERAL]=[s.AST_LITERAL],s.T_DOT_MEMBER="m",s.AST_NODES[s.T_DOT_MEMBER]=[s.AST_LEFT,s.AST_RIGHT],s.T_ARRAY_MEMBER="M",s.AST_NODES[s.T_ARRAY_MEMBER]=[s.AST_LEFT,s.AST_RIGHT],s.T_NEW="n",s.AST_NODES[s.T_NEW]=[s.AST_NODE,s.AST_ARGUMENTS],s.T_ORDER="o",s.AST_NODES[s.T_ORDER]=[s.AST_NODE],s.T_OBJECT="O",s.AST_NODES[s.T_OBJECT]=[s.AST_OBJDEF],s.T_RETURN="r",s.AST_NODES[s.T_RETURN]=[s.AST_NODE],s.T_SEQ="S",s.AST_NODES[s.T_SEQ]=[s.AST_BODY],s.T_TABLE="t",s.T_THIS="T",s.AST_NODES[s.T_THIS]=[],s.T_UOP="u",s.AST_NODES[s.T_UOP]=[s.AST_OPERATOR,s.AST_NODE],s.T_VAR="v",s.AST_NODES[s.T_VAR]=[s.AST_VARDEF],s.T_DO_WHILE="V",s.AST_NODES[s.T_DO_WHILE]=[s.AST_NODE,s.AST_TEST],s.T_WHILE="w",s.AST_NODES[s.T_WHILE]=[s.AST_TEST,s.AST_NODE],s.T_WITH="W",s.AST_NODES[s.T_WITH]=[s.AST_NODE,s.AST_ALT],s.T_LABEL="z",s.AST_NODES[s.T_LABEL]=[s.AST_LITERAL,s.AST_NODE],s.T_CONDITIONAL="Z",s.AST_NODES[s.T_CONDITIONAL]=[s.AST_TEST,s.AST_NODE,s.AST_ALT],s.T_EMPTY=".",s.AST_NODES[s.T_EMPTY]=[],s.T_NULL="!",s.T_BLOCK="(",s.AST_NODES[s.T_BLOCK]=[s.AST_BODY],s.LITERAL_CODE_TABLE=["undefined","null","true","false","NaN","Infinity","-Infinity","-","+","!","~","typeof","void","delete","==","!=","===","!==","<","<=",">",">=","<<",">>",">>>","*","/","%","|","^","&","in","instanceof","..","||","&&","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","|=","^=","&=","++","--"];var o=[].slice;s.astCreateNode=function(){var t=s.AST_NODES[arguments[0]];if(!t||arguments.length-1!==t.length)throw new Error("invalid createNode");return o.call(arguments)},s.astGetProp=function(t,e){var r=s.AST_NODES[t[0]];if(!r||t.length-1!==r.length)throw new Error("invalid node getProp");return t[r.indexOf(e)+1]}},this),function(t,e){"function"==typeof define&&define.amd?define(["exports","./common","acorn"],function(e,r,n){t(e,r.COMMON,n)}):"undefined"!=typeof exports?t(exports,require("./common").COMMON,require("acorn")):t(e.SMJS,e.SMJS.COMMON,acorn)}(function(t,e,r){"use strict";function n(t){this.options=t||{}}var _=Object.hasOwnProperty;n.prototype.encode=function(t,r){var n,_;this._reset(),this._cbWrite=r,this._cbWrite("CJS"+e.d2r(0));var i=this._acornToSmjs(this._getAst(t));for(this._prioritizeLiterals(i),n=0,_=i.length;_>n;++n)this._next(i[n]);this._finalizeBlock()},n.prototype.encodeString=function(t){var e="";return this.encode(t,function(t){e+=t}),e},n.prototype._prioritizeLiterals=function(t){var r,n,_={};for(r=0,n=t.length;n>r;++r)this._nextDupLit(t[r],_);var i=[];for(Object.keys(_).forEach(function(t){var e=_[t];2>e||t.length<2||i.push([t,t.length*e-1])}),i=i.sort(function(t,e){return e[1]-t[1]}),i=i.slice(0,Math.pow(70,2)-1),r=0,n=i.length;n>r;++r){var s=e.d2r2(this.nextId++);this.ids[i[r][0]]=s}},n.prototype._reset=function(){this._resetIds(),this._code=""},n.prototype._resetIds=function(){this.nextId=0,this.ids={}},n.prototype._finalizeBlock=function(){var t,r,n=Object.keys(this.ids);if(n.length){var _=new Array(n.length);for(t=0,r=n.length;r>t;++t){var i=n[t];_[e.r2d(this.ids[i])]=i}for(this._cbWrite(e.T_TABLE),t=0,r=_.length;r>t;++t)this._cbWrite(_[t]),this._cbWrite(e.T_END);this._cbWrite(e.T_END)}this._cbWrite(this._code),this._reset()},n.prototype._getAst=function(t){return r.parse(t,{ecmaVersion:5,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!0,preserveParens:!0})},n.prototype._acornToSmjs=function(t){if("Program"!=t.type)throw new Error("Expecting top-level program");for(var e=[],r=0,n=t.body.length;n>r;++r)e.push(this._acornNext(t.body[r],null));return e},n.prototype._acornNext=function(t,e){if(null===t)throw new Error("Null child of _parent = "+e.type);if(void 0===e)throw new Error("API error, pass _parent in to _acornNext");if(t._parent=e,!(t.type in this._acornMap))throw new Error('Unknown acorn type: "'+t.type+'"');var r=this._acornMap[t.type].call(this,t);return this._checkOrder(t,r)},n.prototype._checkOrder=function(t,e){return e};var i=n.prototype._acornMap={};i.AssignmentExpression=function(t){return e.astCreateNode(e.T_ASSIGN,t.operator,this._acornNext(t.left,t),this._acornNext(t.right,t))},i.ArrayExpression=function(t){for(var r=[],n=0,_=t.elements.length;_>n;++n)r.push(this._acornNext(t.elements[n],t));return e.astCreateNode(e.T_ARRAY,r)},i.LogicalExpression=i.BinaryExpression=function(t){return e.astCreateNode(e.T_BOP,t.operator,this._acornNext(t.left,t),this._acornNext(t.right,t))},i.BreakStatement=function(t){return e.astCreateNode(e.T_BREAK,t.label?t.label.name:null)},i.CallExpression=function(t){for(var r=[],n=0,_=t.arguments.length;_>n;++n)r.push(this._acornNext(t.arguments[n],t));return e.astCreateNode(e.T_CALL,this._acornNext(t.callee,t),r)},i.ContinueStatement=function(t){return e.astCreateNode(e.T_CONTINUE,t.label?t.label.name:null)},i.EmptyStatement=function(){return e.astCreateNode(e.T_EMPTY)},i.ExpressionStatement=function(t){return e.astCreateNode(e.T_EXPR,this._acornNext(t.expression,t))},i.FunctionDeclaration=i.FunctionExpression=function(t){for(var r=[],n=0,_=t.params.length;_>n;++n)r.push(this._acornNext(t.params[n],t));return e.astCreateNode(e.T_FUNC,t.id?t.id.name:null,r,this._acornNext(t.body,t))},i.ForStatement=function(t){return e.astCreateNode(e.T_FOR,t.init?this._acornNext(t.init,t):null,t.test?this._acornNext(t.test,t):null,t.update?this._acornNext(t.update,t):null,this._acornNext(t.body,t))},i.ForInStatement=function(t){return e.astCreateNode(e.T_FOR_IN,this._acornNext(t.left,t),this._acornNext(t.right,t),this._acornNext(t.body,t))},i.ThrowStatement=function(t){return e.astCreateNode(e.T_THROW,this._acornNext(t.argument,t))},i.TryStatement=function(t){return e.astCreateNode(e.T_TRY,this._acornNext(t.block,t),t.handler?this._acornNext(t.handler,t):null,t.finalizer?this._acornNext(t.finalizer,t):null)},i.CatchClause=function(t){return e.astCreateNode(e.T_CATCH,t.param?t.param.name:null,this._acornNext(t.body,t))},i.IfStatement=function(t){return e.astCreateNode(e.T_IF,this._acornNext(t.test,t),this._acornNext(t.consequent,t),t.alternate?this._acornNext(t.alternate,t):null)},i.UpdateExpression=function(t){var r=e.T_POSTUPDATE;return t.prefix&&(r=e.T_PREUPDATE),e.astCreateNode(r,t.operator,this._acornNext(t.argument,t))},i.SwitchStatement=function(t){for(var r=[],n=0,_=t.cases.length;_>n;++n)r.push(this._acornNext(t.cases[n],t));return e.astCreateNode(e.T_SWITCH,this._acornNext(t.discriminant,t),r)},i.SwitchCase=function(t){for(var r=[],n=0,_=t.consequent.length;_>n;++n)r.push(this._acornNext(t.consequent[n],t));return e.astCreateNode(e.T_SWITCH_CASE,t.test?this._acornNext(t.test,t):null,r)},i.Literal=function(t){return e.astCreateNode(e.T_LITERAL,t.raw)},i.MemberExpression=function(t){var r=e.T_ARRAY_MEMBER;return"Identifier"===t.property.type&&(r=e.T_DOT_MEMBER),e.astCreateNode(r,this._acornNext(t.object,t),this._acornNext(t.property,t))},i.NewExpression=function(t){var r=[];if(t.arguments)for(var n=0,_=t.arguments.length;_>n;++n)r.push(this._acornNext(t.arguments[n],t));return e.astCreateNode(e.T_NEW,this._acornNext(t.callee,t),r)},i.ParenthesizedExpression=function(t){return e.astCreateNode(e.T_ORDER,this._acornNext(t.expression,t))},i.ObjectExpression=function(t){for(var r=[],n=0,_=t.properties.length;_>n;++n){var i=t.properties[n];if("init"!==i.kind)throw new Error("getter/setter not yet supported");r.push([this._acornNext(i.key,t),this._acornNext(i.value,t)])}return e.astCreateNode(e.T_OBJECT,r)},i.Identifier=function(t){return e.astCreateNode(e.T_LITERAL,t.name)},i.ReturnStatement=function(t){return e.astCreateNode(e.T_RETURN,t.argument?this._acornNext(t.argument,t):null)},i.SequenceExpression=function(t){for(var r=[],n=0,_=t.expressions.length;_>n;++n)r.push(this._acornNext(t.expressions[n],t));return e.astCreateNode(e.T_SEQ,r)},i.ThisExpression=function(){return e.astCreateNode(e.T_THIS)},i.UnaryExpression=function(t){return e.astCreateNode(e.T_UOP,t.operator,this._acornNext(t.argument,t))},i.VariableDeclaration=function(t){for(var r=[],n=0,_=t.declarations.length;_>n;++n){var i=t.declarations[n];r.push([e.astCreateNode(e.T_LITERAL,i.id.name),i.init?this._acornNext(i.init,t):null])}return e.astCreateNode(e.T_VAR,r)},i.DoWhileStatement=function(t){return e.astCreateNode(e.T_DO_WHILE,this._acornNext(t.body,t),this._acornNext(t.test,t))},i.WhileStatement=function(t){return e.astCreateNode(e.T_WHILE,this._acornNext(t.test,t),this._acornNext(t.body,t))},i.WithStatement=function(t){return e.astCreateNode(e.T_WITH,this._acornNext(t.object,t),this._acornNext(t.body,t))},i.LabeledStatement=function(t){return e.astCreateNode(e.T_LABEL,t.label.name,this._acornNext(t.body,t))},i.ConditionalExpression=function(t){return e.astCreateNode(e.T_CONDITIONAL,this._acornNext(t.test,t),this._acornNext(t.consequent,t),this._acornNext(t.alternate,t))},i.BlockStatement=function(t){for(var r=[],n=0,_=t.body.length;_>n;++n)r.push(this._acornNext(t.body[n],t));return e.astCreateNode(e.T_BLOCK,r)},n.prototype._nextDupLit=function(t,r){var n,i;if(null!==t){var s=e.AST_NODES[t[0]];if(!s)throw new Error('unrecognized token: "'+t[0]+'"');for(var T=0,o=s.length;o>T;++T){var a=s[T],h=e.astGetProp(t,a);switch(a){case e.AST_OPERATOR:break;case e.AST_NODE:case e.AST_LEFT:case e.AST_RIGHT:case e.AST_INIT:case e.AST_TEST:case e.AST_UPDATE:case e.AST_ALT:case e.AST_CATCH:case e.AST_FINALLY:this._nextDupLit(h,r);break;case e.AST_BODY:case e.AST_ARGUMENTS:for(n=0,i=h.length;i>n;++n)this._nextDupLit(h[n],r);break;case e.AST_LITERAL:if(!h)break;var c=e.esc(h);_.call(r,c)?r[c]++:r[c]=1;break;case e.AST_OBJDEF:for(n=0,i=h.length;i>n;++n)this._nextDupLit(h[n][0],r),this._nextDupLit(h[n][1],r);break;case e.AST_VARDEF:for(n=0,i=h.length;i>n;++n)this._nextDupLit(h[n][0],r),h[n][1]&&this._nextDupLit(h[n][1],r);break;default:throw new Error('unhandled nodeDef:type: "'+a+'"')}}}},n.prototype._next=function(t){var r,n;if(null===t)return void this._writeToken(e.T_NULL);var _=e.AST_NODES[t[0]];if(!_)throw new Error('unrecognized token: "'+t[0]+'"');t[0]!==e.T_LITERAL&&this._writeToken(t[0]);for(var i=0,s=_.length;s>i;++i){var T=_[i],o=e.astGetProp(t,T);switch(T){case e.AST_OPERATOR:this._writeLiteralCode(o);break;case e.AST_NODE:case e.AST_LEFT:case e.AST_RIGHT:case e.AST_INIT:case e.AST_TEST:case e.AST_UPDATE:case e.AST_ALT:case e.AST_CATCH:case e.AST_FINALLY:this._next(o);break;case e.AST_BODY:case e.AST_ARGUMENTS:for(r=0,n=o.length;n>r;++r)this._next(o[r]);this._writeEnd();break;case e.AST_LITERAL:this._writeLiteral(o);break;case e.AST_OBJDEF:for(r=0,n=o.length;n>r;++r)this._next(o[r][0]),this._next(o[r][1]);this._writeEnd();break;case e.AST_VARDEF:for(r=0,n=o.length;n>r;++r)this._next(o[r][0]),o[r][1]?this._next(o[r][1]):this._writeToken(e.T_NULL);this._writeEnd();break;default:throw new Error('unhandled nodeDef:type: "'+T+'"')}}},n.prototype._writeToken=function(t){this._code+=t},n.prototype._writeEnd=function(){this._code+=e.T_END},n.prototype._writeLiteral=function(t){if(void 0===t||null===t)return this._writeToken(e.T_LITERAL),void this._writeToken(e.T_END);var r=e.LITERAL_CODE_TABLE.indexOf(t);if(0>r){var n=e.esc(t);_.call(this.ids,n)?(this._writeToken(e.T_LITERAL_TABLE),this._code+=this.ids[n]):1===n.length?(this._writeToken(e.T_LITERAL_1),this._code+=n):2===n.length?(this._writeToken(e.T_LITERAL_2),this._code+=n):(this._writeToken(e.T_LITERAL),this._code+=n,this._writeEnd())}else this._writeToken(e.T_LITERAL_CODE),this._code+=e.d2r(r)},n.prototype._writeLiteralCode=function(t){var r=e.LITERAL_CODE_TABLE.indexOf(t);if(!(r>=0))throw new Error('unrecognized literal : "'+t+'"');this._code+=e.d2r(r)},t.Encoder=n},this),function(t,e){"function"==typeof define&&define.amd?define(["exports","./common"],function(e,r){t(e,r.COMMON)}):"undefined"!=typeof exports?t(exports,require("./common").COMMON):t(e.SMJS,e.SMJS.COMMON)}(function(t,e){"use strict";function r(){}r.prototype.decode=function(t,r){if(this._reset(t),this._cbWrite=r,"CJS"!==this._get(3))throw new Error("This does not appear to be an cjs stream");var n=e.r2d(this._get(1));if(0!==n)throw new Error("This decoder only supports v0 cjs streams. Stream version found: "+n);for(var _=[],i=this._nextAst();i!==!1;)i!==!0&&_.push(i),i=this._nextAst();this._resetIds();for(var s=!0,T=0,o=_.length;o>T;++T)s?s=!1:this._cbWrite(";"),this._next(_[T])},r.prototype.decodeString=function(t){var e="";return this.decode(t,function(t){e+=t}),e},r.prototype._reset=function(t){this._cbWrite=null,this._code=t,this._pointer=0,this._resetIds()},r.prototype._resetIds=function(){this._ids=Object.create(null)},r.prototype._get=function(t){for(var e="";e.length<t;){if(this._pointer>=this._code.length)return!1;var r=this._code[this._pointer++];" "!==r&&"	"!==r&&"+"!==r&&"\r"!==r&&"\n"!==r&&(e+=r)}return e},r.prototype._peek=function(){return this._code[this._pointer]},r.prototype._getToEnd=function(){for(var t="",r=this._get(1);r&&r!=e.T_END;)t+=r,r=this._get(1);return t},r.prototype._nextAst=function(){var t,r=this._get(1);if(!r)return!1;if(r===e.T_NULL)return null;if(r===e.T_TABLE)return this._readTable(),this._nextAst();if(r===e.T_LITERAL_1||r===e.T_LITERAL_2||r===e.T_LITERAL_3||r===e.T_LITERAL_4)return e.astCreateNode(e.T_LITERAL,this._readSizedLiteral(parseInt(r,10)));if(r===e.T_LITERAL_TABLE)return e.astCreateNode(e.T_LITERAL,this._ids[this._get(2)]);if(r===e.T_LITERAL_CODE)return e.astCreateNode(e.T_LITERAL,this._readLiteralCode());if(r===e.T_LITERAL)return e.astCreateNode(e.T_LITERAL,e.unesc(this._getToEnd()));var n=e.AST_NODES[r];if(!n)throw new Error('unexpected token: "'+r+'"');for(var _=[r],i=0,s=n.length;s>i;++i){var T=n[i];switch(T){case e.AST_OPERATOR:_.push(this._readLiteralCode());break;case e.AST_NODE:case e.AST_LEFT:case e.AST_RIGHT:case e.AST_INIT:case e.AST_TEST:case e.AST_UPDATE:case e.AST_ALT:case e.AST_CATCH:case e.AST_FINALLY:_.push(this._nextAst());break;case e.AST_BODY:case e.AST_ARGUMENTS:for(t=[];this._peek()!==e.T_END;)t.push(this._nextAst());this._get(1),_.push(t);break;case e.AST_LITERAL:_.push(this._nextAst()[1]);break;case e.AST_OBJDEF:for(t=[];this._peek()!==e.T_END;)t.push([this._nextAst(),this._nextAst()]);this._get(1),_.push(t);break;case e.AST_VARDEF:for(t=[];this._peek()!==e.T_END;)t.push([this._nextAst()[1],this._nextAst()]);this._get(1),_.push(t);break;default:throw new Error('unhandled nodeDef:type: "'+T+'"')}}return e.astCreateNode.apply(this,_)},r.prototype._readTable=function(){this._resetIds();for(var t=0,r=e.unesc(this._getToEnd());r.length;)this._ids[e.d2r2(t++)]=r,r=e.unesc(this._getToEnd())},r.prototype._readLiteralCode=function(){return e.LITERAL_CODE_TABLE[e.r2d(this._get(1))]},r.prototype._readSizedLiteral=function(t){return e.unesc(this._get(t))},r.prototype._next=function(t){if(!(t[0]in this._map))throw new Error('Unhandled token: "'+t[0]+'"');this._map[t[0]].call(this,t)};var n=r.prototype._map={};n[e.T_ASSIGN]=n[e.T_BOP]=function(t){this._next(e.astGetProp(t,e.AST_LEFT)),this._cbWrite(" "+e.astGetProp(t,e.AST_OPERATOR)+" "),this._next(e.astGetProp(t,e.AST_RIGHT))},n[e.T_ARRAY]=function(t){var r=e.astGetProp(t,e.AST_BODY);this._cbWrite("[");for(var n=!0,_=0,i=r.length;i>_;++_)n?n=!1:this._cbWrite(","),this._next(r[_]);this._cbWrite("]")},n[e.T_BREAK]=function(t){this._cbWrite("break");var r=e.astGetProp(t,e.AST_LITERAL);null!==r&&(this._cbWrite(" "),this._cbWrite(r)),this._cbWrite(";")},n[e.T_CALL]=function(t){this._next(e.astGetProp(t,e.AST_NODE)),this._cbWrite("(");for(var r=!0,n=e.astGetProp(t,e.AST_ARGUMENTS),_=0,i=n.length;i>_;++_)r?r=!1:this._cbWrite(","),this._next(n[_]);this._cbWrite(")")},n[e.T_CONTINUE]=function(t){this._cbWrite("continue");var r=e.astGetProp(t,e.AST_LITERAL);null!==r&&(this._cbWrite(" "),this._cbWrite(r)),this._cbWrite(";")},n[e.T_EXPR]=function(t){this._next(e.astGetProp(t,e.AST_NODE)),this._cbWrite(";")},n[e.T_FUNC]=function(t){this._cbWrite("function ");var r=e.astGetProp(t,e.AST_LITERAL);null!==r&&this._cbWrite(r),this._cbWrite("(");for(var n=e.astGetProp(t,e.AST_ARGUMENTS),_=!0,i=0,s=n.length;s>i;++i)_?_=!1:this._cbWrite(","),this._next(n[i]);this._cbWrite(")"),this._next(e.astGetProp(t,e.AST_NODE))},n[e.T_FOR]=function(t){var r=e.astGetProp(t,e.AST_INIT),n=e.astGetProp(t,e.AST_TEST),_=e.astGetProp(t,e.AST_UPDATE),i=e.astGetProp(t,e.AST_NODE);this._cbWrite("for("),r&&this._next(r),this._cbWrite(";"),n&&this._next(n),this._cbWrite(";"),_&&this._next(_),this._cbWrite(")"),this._next(i)},n[e.T_FOR_IN]=function(t){this._cbWrite("for("),this._next(e.astGetProp(t,e.AST_LEFT)),this._cbWrite(" in "),this._next(e.astGetProp(t,e.AST_RIGHT)),this._cbWrite(")"),this._next(e.astGetProp(t,e.AST_NODE))},n[e.T_THROW]=function(t){this._cbWrite("throw "),this._next(e.astGetProp(t,e.AST_NODE))},n[e.T_TRY]=function(t){this._cbWrite("try "),this._next(e.astGetProp(t,e.AST_NODE));var r=e.astGetProp(t,e.AST_CATCH),n=e.astGetProp(t,e.AST_FINALLY);r&&this._next(r),n&&(this._cbWrite("finally "),this._next(n))},n[e.T_CATCH]=function(t){this._cbWrite("catch (");var r=e.astGetProp(t,e.AST_LITERAL);null!==r&&this._cbWrite(r),this._cbWrite(")"),this._next(e.astGetProp(t,e.AST_NODE))},n[e.T_IF]=function(t){this._cbWrite("if("),this._next(e.astGetProp(t,e.AST_TEST)),this._cbWrite(")"),this._next(e.astGetProp(t,e.AST_NODE));var r=e.astGetProp(t,e.AST_ALT);null!==r&&(this._cbWrite(" else "),this._next(r))},n[e.T_PREUPDATE]=function(t){this._cbWrite(e.astGetProp(t,e.AST_OPERATOR)),this._next(e.astGetProp(t,e.AST_NODE))},n[e.T_POSTUPDATE]=function(t){this._next(e.astGetProp(t,e.AST_NODE)),this._cbWrite(e.astGetProp(t,e.AST_OPERATOR))},n[e.T_SWITCH]=function(t){this._cbWrite("switch("),this._next(e.astGetProp(t,e.AST_NODE)),this._cbWrite("){");for(var r=e.astGetProp(t,e.AST_BODY),n=0,_=r.length;_>n;++n)this._next(r[n]);this._cbWrite("}\n")},n[e.T_SWITCH_CASE]=function(t){var r=e.astGetProp(t,e.AST_TEST);null===r?this._cbWrite("default: "):(this._cbWrite("case "),this._next(r),this._cbWrite(": "));for(var n=e.astGetProp(t,e.AST_BODY),_=!0,i=0,s=n.length;s>i;++i)_?_=!1:this._cbWrite(";"),this._next(n[i])},n[e.T_LITERAL]=function(t){this._cbWrite(e.astGetProp(t,e.AST_LITERAL))},n[e.T_DOT_MEMBER]=function(t){this._next(e.astGetProp(t,e.AST_LEFT)),this._cbWrite("."),this._next(e.astGetProp(t,e.AST_RIGHT))},n[e.T_ARRAY_MEMBER]=function(t){this._next(e.astGetProp(t,e.AST_LEFT)),this._cbWrite("["),this._next(e.astGetProp(t,e.AST_RIGHT)),this._cbWrite("]")},n[e.T_NEW]=function(t){this._cbWrite("new "),this._next(e.astGetProp(t,e.AST_NODE));var r=e.astGetProp(t,e.AST_ARGUMENTS);if(r.length){this._cbWrite("(");for(var n=!0,_=0,i=r.length;i>_;++_)n?n=!1:this._cbWrite(","),this._next(r[_]);this._cbWrite(")")}},n[e.T_ORDER]=function(t){this._cbWrite("("),this._next(e.astGetProp(t,e.AST_NODE)),this._cbWrite(")")},n[e.T_OBJECT]=function(t){var r=e.astGetProp(t,e.AST_OBJDEF);this._cbWrite("{");for(var n=!0,_=0,i=r.length;i>_;++_)n?n=!1:this._cbWrite(","),this._next(r[_][0]),this._cbWrite(":"),this._next(r[_][1]);this._cbWrite("}")},n[e.T_RETURN]=function(t){var r=e.astGetProp(t,e.AST_NODE);null===r?this._cbWrite("return;"):(this._cbWrite("return "),this._next(r),this._cbWrite(";"))},n[e.T_SEQ]=function(t){for(var r=e.astGetProp(t,e.AST_BODY),n=!0,_=0,i=r.length;i>_;++_)n?n=!1:this._cbWrite(","),this._next(r[_])},n[e.T_THIS]=function(){this._cbWrite("this")},n[e.T_UOP]=function(t){this._cbWrite(e.astGetProp(t,e.AST_OPERATOR)+" "),this._next(e.astGetProp(t,e.AST_NODE))},n[e.T_VAR]=function(t){this._cbWrite("var ");for(var r=e.astGetProp(t,e.AST_VARDEF),n=!0,_=0,i=r.length;i>_;++_)n?n=!1:this._cbWrite(","),this._cbWrite(r[_][0]),null!==r[_][1]&&(this._cbWrite(" = "),this._next(r[_][1]))},n[e.T_DO_WHILE]=function(t){this._cbWrite("do "),this._next(e.astGetProp(t,e.AST_NODE)),this._cbWrite(" while ("),this._next(e.astGetProp(t,e.AST_TEST)),this._cbWrite(")")},n[e.T_WHILE]=function(t){this._cbWrite("while("),this._next(e.astGetProp(t,e.AST_TEST)),this._cbWrite(")"),this._next(e.astGetProp(t,e.AST_NODE))},n[e.T_WITH]=function(t){this._cbWrite("with ("),this._next(e.astGetProp(t,e.AST_NODE)),this._cbWrite(")"),this._next(e.astGetProp(t,e.AST_ALT))},n[e.T_LABEL]=function(t){this._cbWrite(e.astGetProp(t,e.AST_LITERAL)),this._cbWrite(":"),this._next(e.astGetProp(t,e.AST_NODE))},n[e.T_CONDITIONAL]=function(t){this._next(e.astGetProp(t,e.AST_TEST)),this._cbWrite(" ? "),this._next(e.astGetProp(t,e.AST_NODE)),this._cbWrite(" : "),this._next(e.astGetProp(t,e.AST_ALT))},n[e.T_EMPTY]=function(){this._cbWrite(";")},n[e.T_BLOCK]=function(t){this._cbWrite("{");for(var r=e.astGetProp(t,e.AST_BODY),n=!0,_=0,i=r.length;i>_;++_)n?n=!1:this._cbWrite(";"),this._next(r[_]);this._cbWrite("}\n")},t.Decoder=r},this);